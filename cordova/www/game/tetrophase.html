<!-- Author: Derek O Reilly, Dundalk Institute of Technology, Ireland. -->

<!DOCTYPE html>
<html>
    <head>
        <title>Tetrophase</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">

        <!-- Firebase library -->
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

        <!-- Always include the game stylesheet, the Game class, the GameObject class and index.js -->
        <!-- These four must be included in all games. This code never changes.                -->
        <link href="../framework/css/game.css" rel="stylesheet" type="text/css"/>
        <script src="../framework/js/CanvasGame.js" type="text/javascript"></script>
        <script src="../framework/js/GameObject.js" type="text/javascript"></script>
        <script src="../framework/js/index.js" type="text/javascript"></script>
        
        <!-- ***************************************************************************** -->
        <!-- *************** THE CODE BELOW CAN BE DIFFERENT FOR EACH GAME *************** -->
        
        <!-- Always include the game javascript that matches the html file name --> 
        <script src="js/tetrophase.js" type="text/javascript"></script>
        
        <!-- Include any classes that extend from GameObject that are used in this game -->
        <script src="js/Tetromino.js" type="text/javascript"></script>
        <script src="js/GameEngine.js" type="text/javascript"></script>
        <script src="js/StaticImage.js" type="text/javascript"></script>
        <script src="js/StaticText.js" type="text/javascript"></script>
        <script src="js/GameOverText.js" type="text/javascript"></script>
        <script src="js/Timer.js" type="text/javascript"></script>
        <script src="js/TetrophaseGame.js" type="text/javascript"></script>
        <script src="js/Button.js" type="text/javascript"></script>
        <script src="js/RestartButton.js" type="text/javascript"></script>
        <script src="js/SaveScoreButton.js" type="text/javascript"></script>
        <script src="js/HighScoresButton.js" type="text/javascript"></script>
        <script src="js/AccelerometrButton.js" type="text/javascript"></script>
        <script src="js/FirestoreService.js" type="text/javascript"></script>
        
        <!-- ************************* END OF GAME SPECIFIC CODE ************************* -->
        <!-- ***************************************************************************** -->
    </head>

    <body>
        <div id="gameContainer"> <!-- having a container will allow us to have a game that includes elements that are outside of the canvas -->
            <canvas id="gameCanvas" tabindex="1"></canvas>

            <!-- ***************************************************************************** -->
            <!-- *************** THE CODE BELOW CAN BE DIFFERENT FOR EACH GAME *************** -->


            <!-- ************************* END OF GAME SPECIFIC CODE ************************* -->
            <!-- ***************************************************************************** -->
            
        </div>
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-analytics.js";
            import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-firestore.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyDdPYADuzyKO2aEF3fra50UXVuOtfnDPYQ",
              authDomain: "tetrophase.firebaseapp.com",
              projectId: "tetrophase",
              storageBucket: "tetrophase.appspot.com",
              messagingSenderId: "918966608045",
              appId: "1:918966608045:web:57de38a0e3556952702624",
              measurementId: "G-VXJYCJVJ05"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            firestoreService = new FirestoreService(getFirestore(), collection, addDoc, getDocs);
          </script>
    </body>
</html>